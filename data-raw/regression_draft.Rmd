---
title: "First regression"
output: html_document
editor_options: 
  chunk_output_type: console
---

## Vorbereitungen 

```{r}
library(lattice)
```

## Daten

```{r}
library(learningR)
```

In dem Paket ist der Datensatz `corona_by_county`.

```{r}
head(corona_by_county)
```

## Visuelle Analyse

```{r}
vars <- c("cases7_per_100k", "foreign_pop_share", "afd", "income", "per_km2", "agequot")
```

```{r}
splom(~ corona_by_county[, vars], data = corona_by_county)
```


## Regression

ZunÃ¤chst werden die Variablen normalisiert.

```{r}
df <- data.frame(lapply(
  vars,
  function(var){
  v <- corona_by_county[[var]]
  (max(v, na.rm = TRUE) - v) / (max(v, na.rm = TRUE) - min(v, na.rm = TRUE))
  })
)
colnames(df) <- vars
```

Bei der Berechnung einer Regression mit R ist die Formelschreibweise enteidend. 

```{r}
y <- lm(cases7_per_100k ~ foreign_pop_share + afd + income + per_km2 + agequot, data = df)
```

Das Ergebnis zeigen wir mit `summary()` an.

```{r}
summary(y)
```
